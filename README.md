# Монополия (боты против ботов)

Streamlit‑спектатор и детерминируемый движок Монополии. Все ключевые правила настраиваются через YAML‑файлы.

## Установка

```bash
python -m venv .venv
.venv\Scripts\activate
pip install -e .[dev]
```

## Запуск

```bash
streamlit run app.py
```

## Seed и боты

- Seed и число ботов задаются в левой панели Streamlit.
- Профили ботов пока базовые (Aggressive/Conservative/Builder/CashSaver).

## Данные локализации и правил

Файлы для редактирования:

- `monopoly/data/board.yaml` — поле (40 клеток, цены, ренты, группы, ипотека).
- `monopoly/data/cards_chance.yaml` — карточки Шанс (placeholder).
- `monopoly/data/cards_community.yaml` — карточки Казна (placeholder).
- `monopoly/data/rules.yaml` — флаги правил и базовые параметры (HR1/HR2/штраф тюрьмы и т.д.).

## Реализованные правила

- Бросок 2d6, перемещение, проход «Старт».
- Дубли и 3 дубля подряд → тюрьма.
- Тюрьма: попытки выбросить дубль или выход по штрафу (упрощённая логика бота).
- Собственность: HR1 — при попадании на незанятую собственность всегда аукцион.
- Рента по собственности/вокзалам/коммунальным.
- HR2 — если владелец в тюрьме, рента = 0.
- Налоги (tax клетки).
- Free Parking пустой (без накоплений).

## Допущения и TODO

- Тексты карточек — placeholders (замените в YAML).
- Торги с людьми, сделки, ипотека/стройка/банкротства и эффекты карточек будут добавлены позже.
- Численные значения в `board.yaml` — рабочие, но не канонические; при желании замените на свои.
